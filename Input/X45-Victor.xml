<?xml version="1.0"?>
<!--
** Modified for personal preference by Algernon **

Only a few stick controls have been mapped here:
 + "Rocker" switch:     Rudder
 + Top rotary dial:     Mixture
 + Bottom rotary dial:  Prop Advance
 + Top stick hat:       Elevator & Aileron trim
 + Bottom stick hat:    View direction
 + Top throttle hat:    Flaps & Rudder trim
 + Stick button "A":    Gear toggle
 + Stick button "C":    Push To Talk
 + 

Linux/Windows/Mac Axis Numbers:
  0   	Roll (positive == right) 
  1  	Pitch (positive == down/back/nose-up)
  2/5/5 top "rotary dial" on the throttle (positive == CCW)
  3   	Rocker switch ("rudder" control) on the throttle (positive == right)
  4/2/2 Throttle (positive == back/down/idle)
  5/4/4 Bottom "rotary dial" on the throttle (positive == CW)
  	Strange this axis doesn't seem to exist on Mac OS X!
  6/6/6 Lower right hat horizontal axis (positive == right)
  7/7/7 Lower right hat vertical axis (positive == down (Mac positive is UP))

Button Numbers (Identical b/w Linux/Windows/Mac):
 0  Trigger
 1  Stick top "A" switch
 2  Stick top "B" switch
 3  Stick top "launch/fire" switch
 4  Throttle "D" switch
 5  Throttle "mouse" switch (tiny black thumb button)
 6  Stick "pinkie" switch
 7  Stick front "C" switch
 8  -+                                left position   ("M1")
 9   +- Throttle "mode" 3-way switch: middle position ("M2")
10  -+                                right position  ("M3")
11  -+                                left position
12   +- Throttle "Aux" 3-way switch:  middle position
13  -+                                right position
14  Upper left hat in "up" position
15  Upper left hat in "right" position
16  Upper left hat in "down" position
17  Upper left hat in "left" position
18  Throttle forefinger hat in "up/back" position
19  Throttle forefinger hat in "right" position
20  Throttle forefinger hat in "down/forward" position
21  Throttle forefinger hat in "left" position
22  Throttle thumb hat in "up" position
23  Throttle thumb hat in "right" position
24  Throttle thumb hat in "down" position
25  Throttle thumb hat in "left" position

$Id: X45.xml,v 1.18 2006-03-01 18:17:26 mfranz Exp $
-->
<PropertyList>

 <id>Saitek X45 for Victor by Algernon</id>
 <name>Saitek X45</name>
 <name>Saitek Saitek X45</name>
 <name>Saitek X45 Flight Controller USB</name>
 <name>Saitek X45 Flight Control Stick </name>
 <name>Saitek Saitek X45 Flight Control Stick </name>

 <axis n="0">
  <desc>Aileron</desc>
  <binding>
   <command>property-scale</command>
   <property>/controls/flight/aileron</property>
   <squared type="bool">true</squared>
  </binding>
 </axis>

 <axis n="1">
  <desc>Elevator</desc>
  <binding>
   <command>property-scale</command>
   <property>/controls/flight/elevator</property>
   <factor type="double">-1.0</factor>
   <squared type="bool">true</squared>
  </binding>
 </axis>

 <axis n="3">
  <desc>Rudder</desc>
  <binding>
   <command>property-scale</command>
   <property>/controls/flight/rudder</property>
  </binding>
 </axis>
 
  <axis n="5">
  <desc>Nosewheel</desc>
  <binding>
   <command>property-scale</command>
   <property>/controls/gear/nosewheel-steering</property>
  </binding>
 </axis>
 
 <axis n="3">
  <desc>Rudder</desc>
  <binding>
   <command>property-scale</command>
   <property>/controls/flight/rudder</property>
  </binding>
  <binding>
   <command>nasal</command>
   <script><![CDATA[
    # In mode 3 (taxiing), map the wheelbrakes
    if(getprop("/input/joysticks/js[0]/saitek-x45-mode") == 1) {
        val = cmdarg().getNode("setting").getValue();
        setprop("/controls/gear/brake-left", 0);
        setprop("/controls/gear/brake-right", 0);
        if(val > 0) { setprop("/controls/gear/brake-right", val); }
        else        { setprop("/controls/gear/brake-left", -val); }
    }
   ]]></script>
  </binding>
 </axis>
 
 
 <!-- View Direction Hat (Throttle Thumb) -->

  <button n="22">
  <desc>View Elevation Up</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>nasal</command>
   <script>view.panViewPitch(1)</script>
  </binding>
 </button>

<button n="23">
  <desc>View Direction Right</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>nasal</command>
   <script>view.panViewDir(-1)</script>
  </binding>
 </button>
 
 <button n="24">
  <desc>View Elevation Down</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>nasal</command>
   <script>view.panViewPitch(-1)</script>
  </binding>
 </button>
 
 <button n="25">
  <desc>View Direction Left </desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>nasal</command>
   <script>view.panViewDir(1)</script>
  </binding>
 </button>
 
  <button n="5">
  <desc>Reset View</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>nasal</command>
   <script>view.resetView()</script>
  </binding>
 </button>
 
 <!-- Sticktop Buttons -->
  
 <button n="1">
  <desc>Landing Gear Up/Down Toggle</desc>
  <binding>
   <command>nasal</command>
   <script>controls.gearToggle()</script>
  </binding>
 </button>
 
  <button n="2">
  <desc>Autopilot Cancel</desc>
  <repeatable type="bool">false</repeatable>
  <binding>
   <command>property-toggle</command>
   <property>/instrumentation/mk10-autopilot/engaged-switch</property>
  </binding>
 </button>
  
  <!-- Throttle Controls -->

 <axis>
  <desc>Throttle</desc>
  <number>
   <unix>4</unix>
   <mac>2</mac>
   <windows>2</windows>
  </number>
  <binding>
   <command>nasal</command>
   <script>controls.throttleAxis()</script>
  </binding>
 </axis>

 <axis>
  <desc>Speedbrake</desc>
  <number>
   <unix>5</unix>
   <mac>4</mac>
   <windows>4</windows>
  </number>
  <binding>
   <command>property-scale</command>
   <property>/controls/flight/speedbrake</property>
   <factor type="double">1.0</factor>
  </binding>
 </axis>

<button n="4">
<desc>Apply Wheelbrakes</desc>
<binding>
 <command>nasal</command>
 <script>controls.applyBrakes(1)</script>
</binding>
<mod-up>
  <binding>
    <command>nasal</command>
    <script>controls.applyBrakes(0);</script>
  </binding>
 </mod-up>
</button>

<!-- mode switch (buttons 8-10) -->

 <button n="7">
   <desc>PTT - Push To Talk</desc>
   <binding>
<command>nasal</command>
<script>fgcom.radio.ptt(1)</script>
</binding>
<mod-up>
<binding>
<command>nasal</command>
<script>fgcom.radio.ptt(0)</script>
</binding>
</mod-up>
</button>

 <button n="8">
  <desc>Mode 1</desc>
  <binding>
   <command>nasal</command>
   <script>setprop("/input/joysticks/js[0]/saitek-x45-mode", 1);
   </script>
  </binding>
 </button>
 
 
 <button n="9">
  <desc>Mode 2</desc>
  <binding>
   <command>nasal</command>
   <script>setprop("/input/joysticks/js[0]/saitek-x45-mode", 2);
   </script>
  </binding>
 </button>

 <button n="10">
  <desc>Mode 3</desc>
  <binding>
   <command>nasal</command>
   <script>setprop("/input/joysticks/js[0]/saitek-x45-mode", 3);
   </script>
  </binding>
 </button> 
  
 <!-- Trim (upper) hat on the stick --> 

 <button n="14">
  <desc>Elevator trim down</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>nasal</command>
   <script>controls.elevatorTrim(1)</script>
  </binding>
 </button>

 <button n="15">
  <desc>Aileron trim right</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>nasal</command>
   <script>controls.aileronTrim(1)</script>
  </binding>
 </button>

 <button n="16">
  <desc>Elevator trim up</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>nasal</command>
   <script>controls.elevatorTrim(-1)</script>
  </binding>
 </button>

 <button n="17">
  <desc>Aileron trim left</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>nasal</command>
   <script>controls.aileronTrim(-1)</script>
  </binding>
 </button>
 
 <button n="18">
  <desc>Autopilot Decrease Pitch</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>property-adjust</command>
   <property>/instrumentation/director-horizon/pitch-setting-deg</property>
   <step>-0.25</step>
   <min>-30</min>
   <max>30</max>
  </binding>
 </button>
 
 <button n="19">
  <desc>Autopilot Roll Right</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>property-adjust</command>
   <property>/instrumentation/mk10-autopilot/bank-selector</property>
   <step>0.25</step>
   <min>-40</min>
   <max>40</max>
  </binding>
 </button>
 
 <button n="20">
  <desc>Autopilot Increase Pitch</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>property-adjust</command>
   <property>/instrumentation/director-horizon/pitch-setting-deg</property>
   <step>0.25</step>
   <min>-30</min>
   <max>30</max>
  </binding>
 </button>
 
 <button n="21">
  <desc>Autopilot Roll Left</desc>
  <repeatable type="bool">true</repeatable>
  <binding>
   <command>property-adjust</command>
   <property>/instrumentation/mk10-autopilot/bank-selector</property>
   <step>-0.25</step>
   <min>-40</min>
   <max>40</max>
  </binding>
 </button>




 
 

</PropertyList>